# Discord Bot Configuration
# Copy this file to .env and replace with your actual tokens and keys
# =====================================================================

# Discord Bot Token (required)
# Get this from the Discord Developer Portal: https://discord.com/developers/applications
DISCORD_BOT_TOKEN=YOUR_DISCORD_BOT_TOKEN

# Perplexity API Key (required)
# Get this from Perplexity: https://perplexity.ai/
PERPLEXITY_API_KEY=YOUR_PERPLEXITY_API_KEY
# Used for both text chat and image analysis features.

# LLM Model Configuration (optional)
# Default model is "sonar" for Perplexity
# You can change this to any model supported by Perplexity (sonar, sonar-reasoning, etc.)
LLM_MODEL=sonar

# Rate Limiting Configuration (optional)
# Time between allowed requests per user (in seconds)
RATE_LIMIT_SECONDS=10
# Maximum requests per user per minute
MAX_REQUESTS_PER_MINUTE=6

# Firecrawl API Key (required for link scraping)
# Get this from Firecrawl: https://firecrawl.dev
FIRECRAWL_API_KEY=YOUR_FIRECRAWL_API_KEY

# Firecrawl Timeout Configuration (optional)
# Maximum duration in milliseconds before aborting a scrape request
# Default: 900000ms (15 minutes) - maximum practical value
FIRECRAWL_TIMEOUT_MS=900000

# Apify API Token (optional, for x.com/twitter.com link scraping)
# Get this from Apify: https://apify.com
# If not provided, Twitter/X.com links will be processed using Firecrawl
APIFY_API_TOKEN=YOUR_APIFY_API_TOKEN

# Daily Summary Configuration (optional)
# Hour of the day to run summarization (UTC, 0-23)
SUMMARY_HOUR=0
# Minute of the hour to run summarization (0-59)
SUMMARY_MINUTE=0
# Channel ID to post daily channel summaries (optional)
REPORTS_CHANNEL_ID=YOUR_CHANNEL_ID
# Channel ID where point awards will be appended to the daily summary (optional)
# If not set, will auto-detect a channel named "general" or use the first active channel
GENERAL_CHANNEL_ID=YOUR_GENERAL_CHANNEL_ID
# Optional: restrict daily summaries to specific channel IDs (comma-separated)
SUMMARY_CHANNEL_IDS=CHANNEL_ID_1,CHANNEL_ID_2

# Links Dump Channel Configuration (optional)
# Channel where only links are allowed - text messages will be auto-deleted
LINKS_DUMP_CHANNEL_ID=

# LLM API Configuration (optional)
# Base URL for Perplexity API (or compatible API)
# Default: https://api.perplexity.ai
PERPLEXITY_BASE_URL=https://api.perplexity.ai

# HTTP Headers for API requests (optional)
# These are used in LLM API requests for tracking/identification
# Default: https://techfren.net
HTTP_REFERER=https://techfren.net
# Default: TechFren Discord Bot
X_TITLE=TechFren Discord Bot

# Anti-Promo Bot Configuration (optional)
# Automatically detect and handle spam/promo bots
# Enable/disable the feature (default: true)
ANTI_PROMO_ENABLED=true
# Minimum account age in days for a user to not be flagged as suspicious (default: 7)
ANTI_PROMO_MIN_ACCOUNT_AGE_DAYS=7
# Time window in minutes after joining when messages are monitored more closely (default: 30)
ANTI_PROMO_NEW_MEMBER_WINDOW_MINUTES=30
# Action to take on suspicious messages: 'delete', 'kick', or 'ban' (default: kick)
ANTI_PROMO_ACTION=kick
# Optional: channel ID to log anti-promo actions
ANTI_PROMO_LOG_CHANNEL_ID=
# Established user protection: users with 25+ messages in past 6 months are protected from kick/ban
ANTI_PROMO_ESTABLISHED_USER_MIN_MESSAGES=25
